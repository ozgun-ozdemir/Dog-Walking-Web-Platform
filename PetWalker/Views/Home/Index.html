@model List<PetWalker.Models.Message>
@{
    var LoggedIn = "Not Logged";

    if (Session["ID"] != null)
    {
        LoggedIn = Session["ID"].ToString();
    }
    else
    {
        LoggedIn = "Not Logged";
    }

}
<style>
    * {
        font-family: 'Courier New', Courier, monospace;
        font-size: 100%;
    }

    .chatbox {
        background-color: silver;
        padding: 15px;
        width: 25%;
        position: fixed;
        bottom: 4px;
        left: 4px;
        border-radius: 5px;
    }

    .chatboxhider {
        background-color: black;
        width: 360px;
        position: fixed;
        bottom: 4px;
        left: 4px;
        border-radius: 5px;
        height: 700px;
        z-index: 0;
    }

    .TextArea {
        background-color: #2b2d2c;
        border-width: 2px;
        border-color: #00000036;
        border-style: outset;
        color: white;
        border: 4px groove #ffffff;
        overflow: scroll;
        overflow-x: hidden;
        height: 350px;
        padding: 2px;
    }

    .textMessage {
        background-color: #4c3e3e;
        padding: 1px;
        margin: 1px;
        padding-left: 5px;
        padding-right: 5px;
        max-width: 261px;
        word-wrap: break-word;
        color: white;
        border-style: ridge;
        border-width: 1px;
        border-color: silver;
        font-size: 1px !important;
    }

    .messageText {
        width: 95%;
        max-width: 9000px !important;
        color: white !important;
        background-color: #2b2d2c;
        padding-left: 5px;
        margin-top: 12px;
        border: 4px groove #878787;
        border-radius: 0px 0px 10px 0px;
    }

    ::placeholder {
        color: #a9a4a4;
        opacity: 1;
    }
</style>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mainPage</title>
    <link rel="stylesheet" href="~/Content/styles/mainPage.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

    <header class="EditNavbar ">
        <!--navbar section -->
        <nav class="navbar navbar-expand-md navbar-active bg-light text-light ">
            <div class="container-fluid">
                <a class="navbar-brand" href="#"><i class="fa-solid fa-paw"></i></a>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="/Home/Index">Home</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="/User/UserProfile">My Profile</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="/Walker/WalkerProfile">Walker Profile</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="/Walker/Search">
                                        Search
                                        Walker
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="/Home/ChatPage">
                                        Chat
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="/Walker/WalkDetail">
                                        Walks
                                    </a>
                                </li>
                                <ul class="navbar-nav ms-auto">
                                    <li class="nav-item">
                                        <a class="nav-link" aria-current="page" href="/User/LogOut">Sign out</a>
                                    </li>
                                </ul>
                                <ul class="navbar-nav ms-auto">
                                    <li class="nav-item">
                                        <a class="nav-link" href="/User/SignUp">Sign up</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" aria-current="page" href="/User/SignIn">Sign in</a>
                                    </li>
                                </ul>
                            </ul>
                        </div>
                    </div>
                </nav>
                <!--navbar section  end-->
            </header>

            <main>

                <!-- Carousel -->
                <div id="demo" class="carousel slide" data-bs-ride="carousel">

                    <!-- Indicators/dots -->
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
                    </div>

                    <!-- The slideshow/carousel -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="~/Content/images/slider1pic.jpeg" alt="" class="d-block">
                        </div>
                        <div class="carousel-item">
                            <img src="~/Content/images/slider2pic.jpeg" alt="" class="d-block">
                        </div>
                        <div class="carousel-item">
                            <img src="~/Content/images/slider3pic.jpeg" alt="" class="d-block">
                        </div>
                    </div>

                    <!-- Left and right controls/icons -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>

                <!-- why us -->
                <h1 style="text-align: center;">Why Us?</h1>
                <div class="container mt-4">
                    <div class="row">
                        <div class="col-lg-4 col-md-6">
                            <div class="why-us-item">
                                <h4>Quality</h4>
                                <p>We offer first class quality customer experience.</p>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6">
                            <div class="why-us-item">
                                <h4>Reliability</h4>
                                <p>Our services are reliable and consistent.</p>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-6">
                            <div class="why-us-item">
                                <h4>Customer Service</h4>
                                <p>Exceptional customer support at all times.</p>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- why us  end-->
                <!--shortVideoBackground(gif) and text end -->
                <div class="gifBackground text-black">
                    <h1>We care</h1>
                    <p>
                        Our platform makes sure you can trust the people walking your pets. Walkers share their qualifications and references when they sign up. This helps you see if they're experienced and reliable. We also offer different choices for pet owners based on what they need, like the walker's experience, rating, cost, and availability.
                    </p>
                </div>
                <!--shortVideoBackground(gif) and text end -->
                <!--grid for user comment cards-->

                <div class="container mt-4">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <img src="~/Content/images/dog6.jpg" class="card-img-top" alt="Placeholder Image">
                                <div class="card-body">
                                    <h5 class="card-title">My Profile</h5>
                                    <p class="card-text">Personally customizable user profile page.</p>
                                    <a href="#" class="btn btn-info">My Profile</a>
                                </div>
                            </div>
                        </div>

                        <!-- Repeat this card block two more times for three cards in total -->

                        <div class="col-md-4">
                            <div class="card">
                                <img src="~/Content/images/dog2.jpg" class="card-img-top" alt="Placeholder Image">
                                <div class="card-body">
                                    <h5 class="card-title">Search Walker</h5>
                                    <p class="card-text">Walker search page with advanced features.</p>
                                    <a href="#" class="btn btn-info">Search Walker</a>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="card">
                                <img src="~/Content/images/dog9.jpg" class="card-img-top" alt="Placeholder Image">
                                <div class="card-body">
                                    <h5 class="card-title">Walker Profile</h5>
                                    <p class="card-text">Walker profile page with efficient interface.</p>
                                    <a href="#" class="btn btn-info">Walker Profile</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!--grid user comment cards end-->
                <!--scroll to top btn -->
                <button type="button" class="btn btn-warning anchorScroll" id="scrollBtn">↑</button>
                <!--scroll to top btn end -->

            </main>
            <!--footer main-->
            <footer class="bg-secondary text-light pt-5">
                <div class="container px-5">
                    <div class="row">
                        <div class="col-6 col-lg-4">
                            <h3 class="fw-bold">Pet Walker</h3>
                            <p class="pt-2">Address: Esenkent, Dudullu Osb Mah, Nato Yolu Cd 265/ 1, 34775 Ümraniye/İstanbul, Türkiye</p>
                            <p class="mb-2">Phone: +90 4447997</p>

                        </div>
                        <div class="col">
                            <h4>Menu</h4>
                            <ul class="list-unstyled pt-2">
                                <li class="py-1 footerNavBar"><a href="../mainPage/mainPage.html">Home</a></li>
                                <li class="py-1"><a href="../signUpPage/signUpPage.html">Sign up</a></li>
                                <li class="py-1"><a href="../signInPage/signInPage.html">Sign in</a></li>
                                <li class="py-1"><a href="../userProfile/userProfile.html">My Profile</a></li>
                                <li class="py-1"><a href="../profilePage/profile.html">Walker Profile</a></li>
                                <li class="py-1"><a href="../searchWalker/searchWalker.html">Search Walker</a></li>
                                <li class="py-1"><a href="../chatBoxPage/chatbox.html">Chat</a></li>
                            </ul>
                        </div>

                        <div class="col">
                            <h4>Categories</h4>
                            <ul class="list-unstyled pt-2">
                                <li class="py-1">Owner</li>
                                <li class="py-1">Pet</li>
                                <li class="py-1">Walker</li>

                            </ul>
                        </div>
                        <div class="col-6 col-lg-3 text-lg-end ">
                            <h4>Social Media Pages</h4>
                            <ul class="list-unstyled pt-2 centerdColumn">

                                <a href="https://www.facebook.com"><img src="~/Content/images/facebook.png"></a>
                                <a href="http://instagram.com"><img src="~/Content/images/instagram.png"></a>
                                <a href="https://twitter.com"><img src="~/Content/images/twitter.png"></a>

                            </ul>
                        </div>
                    </div>

                    <!-- <div class="col">
                        <h4>Location</h4>
                        <iframe id="iframeid"
                                width="100%"
                                height="23%"
                                style="border:0"
                                src="https://www.google.com/maps/embed?api=1&origin=Space+Needle+Seattle+WA&destination=Pike+Place+Market+Seattle+WA&travelmode=bicycling"></iframe>
                    </div> -->

                    <hr>
                    <div class="d-sm-flex justify-content-between py-1">
                        <p>2023 © Pet Walker. All Rights Reserved. </p>
                        <p>
                            <a href="#" class="text-light text-decoration-none pe-4">Terms of use</a>
                            <a href="#" class="text-light text-decoration-none"> Privacy policy</a>
                        </p>
                    </div>
                </div>
                <!--footer main end-->
            </footer>
            <div class="chatbox" style="visibility:hidden">
                <h1 class="titleforchat" id="chatbox">Chatbox!</h1>
                <div class="TextArea">
                    @foreach (var item in Model)
                    {
                        <label style="background-color:gray; margin:5px; padding-left:5px; padding-right:5px;">@Html.DisplayFor(modelItem => item.MessageSenderNameSurname): @Html.DisplayFor(modelItem => item.MessageText)</label><br />
                    }
                </div>
                <input type="text" class="messageText" placeholder="Enter your message!" />

                <input type="button" function="" class="btn btn-warning" id="sendBtnForMessage" style="margin-left: -1px; margin-top: 8px;" value="Send!" />
            </div>
        </body>
    </html>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {

            $("#sendBtnForMessage").click(function () {
                var message = $('.messageText').val();
                if (message != null) {
                    $.ajax({
                        type: "POST",
                        url: '/Home/SendMessage',
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify({ message: message }),
                        success: function (data) {
                            location.reload();
                        }
                    });
                }
            });
            //function SendMessage() {
            //    var message = $("#messageTextPM").val();
            //    if (message.length > 0) {
            //        $.ajax({
            //            type: "POST",
            //            url: '/Home/PmSender',
            //            contentType: "application/json; charset=utf-8",
            //            data: JSON.stringify({ Receiver: receiver, Message: message, }),
            //            success: function (data) {
            //                var messageData = $('<label></label></br>').html(message).show(300);
            //                $('.TextArea').append(messageData);
            //                alert('Mesaj Gönderildi.')
            //            }
            //        });
            //    }
            //    $.ajax({
            //        type: "POST",
            //        url: 'GetPetNames',
            //        contentType: "application/json; charset=utf-8",
            //        data: JSON.stringify(),
            //        success: function (data) {
            //            for (var i = 0; i < data.length; i = i + 2) {
            //                var PetName = $('<label></label></br>').html(data[i] + " " + data[i + 1]).show(300);
            //                $('#petType').append(PetName);
            //            }
            //        },
            //        error: function (data) {
            //            alert("Data Getirilemedi")
            //        }
            //    });
            //}
        });

    </script>
